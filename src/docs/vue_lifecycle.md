# Vue 3 Lifecycle Methods (Composition API)

## Введение
Методы жизненного цикла в Vue 3 позволяют выполнять код в определенные моменты жизни компонента. Они помогают управлять состоянием, подписываться на события, взаимодействовать с API и выполнять очистку ресурсов.

В **Composition API** методы жизненного цикла вызываются внутри `setup()`, используя соответствующие хуки.

## Основные методы жизненного цикла

### 1. `onBeforeMount`
**Вызывается перед тем, как компонент будет смонтирован в DOM.**

- На этом этапе шаблон еще не рендерится в DOM.
- Можно подготовить данные, но нельзя взаимодействовать с DOM.

**Пример:**
```vue
<script setup>
import { onBeforeMount } from 'vue';

onBeforeMount(() => {
  console.log('Компонент скоро будет смонтирован!');
});
</script>
```

---

### 2. `onMounted`
**Вызывается после того, как компонент был добавлен в DOM.**

- Полезно для выполнения API-запросов, подписки на события и работы с DOM.

**Пример:**
```vue
<script setup>
import { onMounted } from 'vue';

onMounted(() => {
  console.log('Компонент успешно смонтирован!');
});
</script>
```

---

### 3. `onBeforeUpdate`
**Вызывается перед обновлением компонента, но до обновления DOM.**

- Позволяет реагировать на изменения реактивных данных перед ререндерингом.

**Пример:**
```vue
<script setup>
import { ref, onBeforeUpdate } from 'vue';

const count = ref(0);

onBeforeUpdate(() => {
  console.log('Скоро обновится: ', count.value);
});
</script>
```

---

### 4. `onUpdated`
**Вызывается после того, как компонент обновился в DOM.**

- Полезно, если нужно выполнить код после обновления шаблона.

**Пример:**
```vue
<script setup>
import { ref, onUpdated } from 'vue';

const count = ref(0);

onUpdated(() => {
  console.log('Компонент обновился, текущее значение:', count.value);
});
</script>
```

---

### 5. `onBeforeUnmount`
**Вызывается перед уничтожением компонента.**

- Полезно для очистки подписок, таймеров, событий и других ресурсов.

**Пример:**
```vue
<script setup>
import { onBeforeUnmount } from 'vue';

onBeforeUnmount(() => {
  console.log('Компонент скоро будет уничтожен');
});
</script>
```

---

### 6. `onUnmounted`
**Вызывается после уничтожения компонента.**

- Здесь компонент уже удален из DOM.
- Полезно для окончательной очистки.

**Пример:**
```vue
<script setup>
import { onUnmounted } from 'vue';

onUnmounted(() => {
  console.log('Компонент уничтожен!');
});
</script>
```

---

### 7. `onActivated`
**Вызывается, когда `keep-alive` компонент активируется (отображается заново).**

- Полезно для восстановления состояния или выполнения действий при повторном отображении компонента.

**Пример:**
```vue
<script setup>
import { onActivated } from 'vue';

onActivated(() => {
  console.log('Компонент снова активирован!');
});
</script>
```

---

### 8. `onDeactivated`
**Вызывается, когда `keep-alive` компонент деактивируется (скрывается).**

- Можно использовать для приостановки процессов, таких как таймеры или подписки.

**Пример:**
```vue
<script setup>
import { onDeactivated } from 'vue';

onDeactivated(() => {
  console.log('Компонент деактивирован!');
});
</script>
```

---

### 9. `onErrorCaptured`
**Вызывается, когда ошибка поймана в дочернем компоненте.**

- Позволяет обрабатывать ошибки в дочерних компонентах, не ломая приложение.

**Пример:**
```vue
<script setup>
import { onErrorCaptured } from 'vue';

onErrorCaptured((err, instance, info) => {
  console.error('Ошибка поймана:', err);
  console.log('Информация об ошибке:', info);
});
</script>
```

---

## Заключение
Эти методы жизненного цикла позволяют управлять состоянием компонентов Vue 3, оптимизировать производительность и избегать утечек памяти. Они особенно полезны при работе с API, DOM-элементами, анимациями и асинхронными процессами.
